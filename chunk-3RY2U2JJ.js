import{B as j,D as E,G as T,J as c,R as F,S,W as z,a as M,c as H,e as x,h as m,ia as k,j as $,k as u,l as f,m as C,n as w,o as N,p as v,s as _,t as y,w as a,x as L,y as g}from"./chunk-2DFNGNZW.js";import"./chunk-KNCAPVV3.js";import"./chunk-LQMYQ2YS.js";import"./chunk-TTGP6AIL.js";import"./chunk-5H5N25VR.js";import"./chunk-ON7T7AZZ.js";import"./chunk-2NMMIZH5.js";import"./chunk-Q7L6LLAK.js";function D(e,o=0){return isNaN(parseFloat(e))?o:parseFloat(e)}function I(e){let[o,t,n]=e,i=document.createElement("span");return i.classList.add("ths-txt"),i.style.transform=`translateY(${t}em) translateX(${o}em)`,i.style.position="absolute",i.innerText=n,i}function V(e){let[o,t,n,i,s,d]=e,r=D(n,50),p=D(i,50),h=D(d,2),l=document.createElement("span");return l.classList.add("ths-ellipse"),l.style.transform=`translateY(${t}em) translateX(${o}em)`,l.style.position="absolute",l.innerHTML=`
<svg viewBox="0 0 ${r} ${p}" xmlns="http://www.w3.org/2000/svg"
     width="${r}"
     height="${p}">
     <ellipse fill="none" 
              stroke="${s}" 
              stroke-width="${h}" 
              cx="${r/2}" 
              cy="${p/2}" 
              rx="${r/2-h}" 
              ry="${p/2-h}" />
</svg>
`,l}function B(e){let o=document.createElement("div");o.innerHTML=e;for(let t of o.querySelectorAll(".ths")){let n=t.nextElementSibling;if(!n||!n.classList.contains("line"))continue;n.style.position="relative";let i=t.getAttribute("data-ths");if(!i)continue;let[s,...d]=i.split("|"),r;switch(s){case"txt":r=I(d);break;case"elp":r=V(d);break}r&&(n.insertBefore(r,n.firstChild),t.remove())}return o.innerHTML}var P={line(e,o){let t=e.children?.[0]?.children?.[0];!t||t.type!=="text"||t.value.includes("//\\")&&(this.addClassToHast(e,"ths"),e.properties["data-ths"]=t.value.trim().substring(4).trim(),t.value="")}};var Y=[[["xpr-error-state"]],[["xpr-loading-state"]],[["xpr-empty-state"]]],q=["xpr-error-state","xpr-loading-state","xpr-empty-state"];function R(e,o){if(e&1&&_(0,"div",0),e&2){let t=a();y("innerHTML",t.code(),x)}}function W(e,o){e&1&&g(0)}function G(e,o){e&1&&g(0,1)}function J(e,o){if(e&1&&_(0,"div",1),e&2){let t=a();y("innerHTML",t.code(),x)}}function K(e,o){e&1&&g(0,2)}var A=(()=>{class e{content=c();src=c();lang=c("javascript");theme=c("nord");highlighter=c();state=T(()=>this.content()?"local":this.src()?this.res.status():"empty");code=T(()=>{let t=n=>this.sanitize.bypassSecurityTrustHtml(B(z().codeToHtml(n,{lang:this.lang(),theme:this.theme(),transformers:[P]}).toString()));return this.content()?t(this.content()):this.res.hasValue()?t(this.res.value()):t("")});sanitize=M(S);res=F.text(()=>this.src());static \u0275fac=function(n){return new(n||e)};static \u0275cmp=m({type:e,selectors:[["xpr-code"]],hostAttrs:[1,"xpr-code"],hostVars:2,hostBindings:function(n,i){n&2&&j("display","block")},inputs:{content:[1,"content"],src:[1,"src"],lang:[1,"lang"],theme:[1,"theme"],highlighter:[1,"highlighter"]},ngContentSelectors:q,decls:5,vars:1,consts:[[1,"xpr-value","xpr-local",3,"innerHTML"],[1,"xpr-value","xpr-loaded",3,"innerHTML"]],template:function(n,i){if(n&1&&(L(Y),u(0,R,1,1,"div",0)(1,W,1,0)(2,G,1,0)(3,J,1,1,"div",1)(4,K,1,0)),n&2){let s;f((s=i.state())==="local"?0:s==="error"?1:s==="loading"?2:s==="resolved"?3:4)}},encapsulation:2})}return e})();function O(e,o){if(e&1&&v(0,"xpr-code",0),e&2){let t=a();C("content",t.content)("lang",t.lang)}}function Q(e,o){if(e&1&&v(0,"xpr-code",1),e&2){let t=a();C("src",t.src)("lang",t.lang)}}function U(e,o){e&1&&(w(0,"p"),E(1,"No content or src provided"),N())}var b=class e extends k{get content(){return this.prop("content")}get lang(){return this.prop("lang")??"javascript"}get src(){return this.prop("src")??"https://raw.githubusercontent.com/ziv/xprng/refs/heads/main/apps/docs/public/example.js"}static \u0275fac=(()=>{let o;return function(n){return(o||(o=H(e)))(n||e)}})();static \u0275cmp=m({type:e,selectors:[["xpd-docs-code"]],features:[$],decls:3,vars:1,consts:[[3,"content","lang"],[3,"src","lang"]],template:function(t,n){t&1&&u(0,O,1,2,"xpr-code",0)(1,Q,1,2,"xpr-code",1)(2,U,2,0,"p"),t&2&&f(n.content?0:n.src?1:2)},dependencies:[A],styles:[`pre{padding:1em}
`],encapsulation:2})};export{b as default};
